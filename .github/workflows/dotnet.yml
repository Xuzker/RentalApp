name: .NET CI for RentalApp

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]

jobs:
  build-and-test:
    runs-on: ubuntu-latest

    steps:
    - name: üîÑ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
      uses: actions/checkout@v3

    - name: üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ .NET SDK
      uses: actions/setup-dotnet@v3
      with:
        dotnet-version: '8.0.x'  # –∏–ª–∏ —Ç–≤–æ—è –≤–µ—Ä—Å–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä 7.0.x

    - name: üì¶ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
      run: dotnet restore RentalApp.sln

    - name: üß± –°–±–æ—Ä–∫–∞ —Ä–µ—à–µ–Ω–∏—è
      run: dotnet build RentalApp.sln --no-restore --configuration Release

    - name: üß™ –ü—Ä–æ–≥–æ–Ω —Ç–µ—Å—Ç–æ–≤
      run: dotnet test RentalApp.sln --no-build --configuration Release --logger "console;verbosity=normal"
